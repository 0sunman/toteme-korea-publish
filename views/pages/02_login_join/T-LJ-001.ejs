<div class="container login_join login_page">
    <div class="template-account__header">
       로그인
    </div>
    <div class="template-account__wrapper">
       <div class="template-account__left"></div>
       <%- include ("./menu/index.ejs",{state:1}) %>
       <div class="template-account__content">
          <div class="template-login__content">
 
             <div class="template-account__text_hdtype_1 alert title" style='display:none'>
                <div class="rte">
                  <p class='error fail-login' style='display:none'>입력하신 아이디 또는 비밀번호가 맞지 않습니다.</p>
                  <p class='error no-id' style='display:none'>아이디를 입력해주세요.</p>
                  <p class='error no-pass' style='display:none'>비밀번호를 입력해주세요.</p>
                  <p class='error try-5' style='display:none'>비밀번호를 5회 이상 잘못 입력하셨습니다. 도용방지를 위해 "비밀번호 찾기"에서 재설정해주세요.</p>
                </div>
             </div>
             <div class="section">
                   <form method="post">
                        <input type="hidden" name="form_type" value="customer_login"><input type="hidden" name="utf8" value="✓">
                        <div class="idoremail label-block input-block">
                           <label class="form-group__label subtitle-2 is-hidden" for="customerId">
                           ID 또는 이메일
                           </label>
                           <input id="customerId" autocapitalize="off" autocomplete="off" autofocus="" name="customer[id]" placeholder="ID 또는 이메일" required="" spellcheck="false" type="text" data-need="id">
                        </div>
                        <div class="password label-block input-block">
                           <label class="form-group__label subtitle-2 is-hidden" for="CustomerPassword">
                           비밀번호
                           </label>
                           <input id="CustomerPassword" name="customer[password]" placeholder="비밀번호" required="" type="password"  data-need="password">
                        </div>

                        <div class="login button-block">
                           <input class="button button--primary button--block button--large" type="submit" value="로그인">
                        </div>

                        <div class='defaultblock sns-buttons label-block input-block'>
                           <label class='radiobutton naver'>
                              <input type="radio" name="test_radio" value="옵션1"/>
                              <span>네이버</span>
                           </label>
                           <label class='radiobutton kakao' style='clear:both'>
                              <input type="radio" name="test_radio" value="옵션1"/>
                              <span>카카오톡</span>
                           </label>
                           <div class='newline only_mo'></div>
                           <label class='radiobutton facebook'>
                              <input type="radio" name="test_radio" value="옵션1"/>
                              <span>페이스북</span>
                           </label>
                           <label class='radiobutton google'>
                              <input type="radio" name="test_radio" value="옵션1"/>
                              <span>구글</span>
                           </label>
         
                        </div>
                   </form>

             </div>

             <div class='line-block content-line'>
            </div>

             <div class="section text">
                <div class="rte">
                   Totême 온라인스토어에는 더현대닷컴이 운영 제공하는 사이트로 기존 회원은 더현대닷컴 아이디와 비밀번호로 바로 이용 가능합니다.
                </div>
             </div>
          </div>
       </div>
    </div>
 </div>
 <script>
    setTimeout(function(){
      $("input[data-need]").on("keyup",function(evt){
         var isValid = true;
         var $needData = $(evt.target);

         
         $needData.removeClass("input-valid")

         if( $needData.data("need") === "id" && $needData.val().length >= 5){
            $needData.removeClass("input-error")
            $needData.addClass("input-valid")
         }
         
         if( $needData.data("need") === "password" && $needData.val().length >= 5){
            $needData.removeClass("input-error")
            $needData.addClass("input-valid")
         }


         if($("input[data-need='id'].input-valid").length > 0 && $("input[data-need='password'].input-valid").length > 0){
            $(".login.button-block > input").addClass("is-active")
            $(".login.button-block > input").removeClass("is-error")
         }else{
            $(".login.button-block > input").removeClass("is-active")
         }
      })
       $(".login.button-block > input").click(function(evt){
         evt.preventDefault();

         $("input[data-need]").each((function(idx,element){
            if($(element).val().length < 5){
               errorObj = $(element).data("need");
               $(element).addClass("input-error");                  
               $(".login.button-block > input").addClass("is-error")
               return true;
            }else{
               $(element).removeClass("input-error");
            }
            
         }).bind(this));

         if($("input[data-need='id']").val().length == 0){
            $(".alert.title .error").hide();
            $(".alert.title").show();
            $(".alert.title .error.no-id").show();
               
         }else if($("input[data-need='password']").val().length == 0){
            $(".alert.title .error").hide();
            $(".alert.title").show();
            $(".alert.title .error.no-pass").show();

         }else{
            
            $(".alert.title").hide();
            $(".alert.title .error.no-pass").hide();
         }
       })


    },1000)
 </script>